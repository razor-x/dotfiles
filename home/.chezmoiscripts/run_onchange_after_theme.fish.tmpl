#!/usr/bin/env fish

if type --query fish_config
    fish_config theme choose "{{ template "theme/fish" . }}"
else
    echo 'Cannot update fish theme: fish_config not found.'
    return 1
end

if type --query kitten
    kitten themes --reload-in=all "{{ template "theme/kitty" . }}"
    set kitten_config_path "$HOME/.config/kitty"
    mkdir -p $kitten_config_path
    kitten themes --dump "{{ template "theme/kitty" . }}" \
        > $kitten_config_path/current-theme.conf
else
    echo 'Cannot update kitty theme: kitty or kitten not installed.'
    return 1
end
