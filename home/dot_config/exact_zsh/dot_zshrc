# Set Zsh history variables.
if [[ -n "$XDG_CONFIG_HOME" ]]; then
  export HISTFILE="$XDG_CACHE_HOME/zsh/history"
  cache_dir=$(dirname "$HISTFILE")
  mkdir -p $cache_dir
  touch "$HISTFILE"
fi
export HISTDUP=erase
export HISTSIZE=10000
export SAVEHIST=$HISTSIZE

# Configure pinentry to use the correct TTY.
# This must be done separately for each shell.
# https://wiki.archlinux.org/title/GnuPG#Configure_pinentry_to_use_the_correct_TTY
export GPG_TTY=$(tty)
gpg-connect-agent updatestartuptty /bye >/dev/null
