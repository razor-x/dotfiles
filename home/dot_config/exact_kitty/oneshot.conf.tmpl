{{- $leader := "Ctrl+s" -}}
{{ $oneshot := "combine : set_colors --reset : pop_keyboard_mode" }}

map --new-mode normal {{ $leader }}
map {{ $leader }} combine : push_keyboard_mode normal : set_colors background=#1a1a2e
map --mode normal {{ $leader }} {{ $oneshot }}
map --mode normal esc {{ $oneshot }}
map --mode normal tab {{ $oneshot }} : new_tab
map --mode normal shift+tab {{ $oneshot }} : close_tab
map --mode normal p {{ $oneshot }} : prev_tab
map --mode normal n {{ $oneshot }} : next_tab
map --mode normal enter {{ $oneshot }} : close_window
map --mode normal space {{ $oneshot }} : next_layout
map --mode normal shift+space {{ $oneshot }} : last_used_layout
map --mode normal j {{ $oneshot }} : launch --location=hsplit
map --mode normal l {{ $oneshot }} : launch --location=vsplit
map --mode normal h {{ $oneshot }} : swap_with_window
map --mode normal k {{ $oneshot }} : open_url_with_hints
map --mode normal f {{ $oneshot }} : kitten hints --type path --program @
map --mode normal g {{ $oneshot }} : kitten hints --type hash --program @

map --mode normal q {{ $oneshot }} : show_last_non_empty_command_output
map --mode normal c {{ $oneshot }} : copy_to_clipboard
map --mode normal v {{ $oneshot }} : paste_from_clipboard
map --mode normal u {{ $oneshot }} : show_scrollback
map --mode normal e {{ $oneshot }} : kitty_scrollback_nvim --config ksb_builtin_last_cmd_output
map --mode normal shift+e {{ $oneshot }} : kitty_scrollback_nvim
